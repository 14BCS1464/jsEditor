<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Interactive JSON Editor</title>

<style>
:root {
  --bg1:#0a0e27;
  --bg2:#020308;
  --glass:rgba(255,255,255,0.05);
  --border:rgba(255,255,255,0.15);
  --accent:#8b5cf6;
  --accent-bright:#a78bfa;
  --success:#10b981;
  --error:#ef4444;
}

/* RESET */
* { box-sizing:border-box; margin:0; padding:0; }

body {
  font-family:system-ui, sans-serif;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  color:#e5e7eb;
  height:100vh;
  display:flex;
  flex-direction:column;
  overflow:hidden;
  position:relative;
}

/* BACKGROUND */
body::before {
  content:"";
  position:absolute;
  inset:-50%;
  background:
    radial-gradient(circle at 20% 50%, rgba(139,92,246,.15), transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(59,130,246,.15), transparent 50%);
  animation:bgFloat 20s ease-in-out infinite;
  pointer-events:none;
}
@keyframes bgFloat {
  0%,100%{transform:none}
  50%{transform:translate(40px,-40px)}
}

/* HEADER */
header {
  display:flex;
  gap:12px;
  padding:16px 24px;
  backdrop-filter:blur(20px);
  background:rgba(255,255,255,.04);
  border-bottom:1px solid var(--border);
  z-index:10;
}

header input {
  flex:1;
  padding:12px 16px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--border);
  border-radius:12px;
  color:white;
}

button {
  padding:10px 18px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-weight:600;
  background:linear-gradient(135deg,var(--accent),var(--accent-bright));
  color:white;
}
button.secondary {
  background:rgba(255,255,255,.06);
  border:1px solid var(--border);
}

/* LAYOUT (SCROLL FIX) */
.container {
  flex:1;
  display:flex;
  gap:12px;
  padding:12px;
  min-height:0;          /* ðŸ”¥ REQUIRED */
}

.panel {
  flex:1;
  display:flex;
  flex-direction:column;
  background:var(--glass);
  border-radius:16px;
  border:1px solid var(--border);
  overflow:hidden;
  min-height:0;          /* ðŸ”¥ REQUIRED */
}

.panel-title {
  padding:12px;
  font-size:12px;
  font-weight:700;
  text-transform:uppercase;
  background:rgba(139,92,246,.15);
  border-bottom:1px solid var(--border);
}

textarea,
pre {
  flex:1;
  padding:16px;
  background:transparent;
  border:none;
  color:#e5e7eb;
  font-family:JetBrains Mono, monospace;
  font-size:14px;
  overflow:auto;         /* ðŸ”¥ REQUIRED */
  min-height:0;          /* ðŸ”¥ REQUIRED */
}

/* RESIZER */
#resizer {
  width:5px;
  cursor:col-resize;
  background:linear-gradient(
    180deg,
    transparent,
    var(--accent),
    transparent
  );
}

/* JSON COLORS */
.json-key{color:#7dd3fc}
.json-string{color:#86efac}
.json-number{color:#fdba74}
.json-boolean{color:#fcd34d}
.json-null{color:#f87171}

/* TREE */
.toggle {
  cursor:pointer;
  font-weight:700;
  color:var(--accent-bright);
}
.toggle::before { content:"â–¾ "; }
.collapsed::before { content:"â–¸ "; }

.node {
  margin-left:16px;
  padding-left:12px;
  border-left:2px solid rgba(139,92,246,.3);
}
.collapsed + .node { display:none; }


.language-panel {
    width: 160px;
    background: #020617;
    border-left: 1px solid #1e293b;
    display: flex;
    flex-direction: column;
  }
  
  .language-title {
    padding: 10px;
    font-size: 14px;
    font-weight: bold;
    color: #38bdf8;
    border-bottom: 1px solid #1e293b;
  }
  
  #languageList {
    list-style: none;
  }
  
  #languageList li {
    padding: 10px;
    cursor: pointer;
    font-size: 14px;
    color: #cbd5f5;
  }
  
  #languageList li:hover {
    background: #1e293b;
  }
  
  #languageList li.active {
    background: #1e293b;
    color: #22d3ee;
    font-weight: bold;
  }
/* STATUS */
.status {
  padding:12px;
  text-align:center;
  font-size:13px;
  backdrop-filter:blur(20px);
  background:rgba(255,255,255,.04);
  border-top:1px solid var(--border);
}
.status.success { color:var(--success); }
.status.error { color:var(--error); }
</style>
</head>

<body>

<header>
  <input id="urlInput" placeholder="ðŸŒ Paste JSON URL (https://dummyjson.com/products)" />
  <button onclick="loadFromURL()">Load</button>
  <button class="secondary" onclick="beautify()">Beautify</button>
  <button class="secondary" onclick="minify()">Minify</button>
</header>

<div class="container">
    <div class="language-panel">
        <div class="language-title">Languages</div>
        <ul id="languageList">
            <li data-lang="javascript" class="active">JavaScript</li>
            <li data-lang="typescript">TypeScript</li>
            <li data-lang="html">HTML</li>
            <li data-lang="json">JSON</li>
        </ul>
    </div>
  <div class="panel" id="leftPanel">
    <div class="panel-title">Input JSON</div>
    <textarea id="input">
{
  "name": "John",
  "age": 30,
  "skills": ["JS", "React"],
  "address": { "city": "NY", "zip": 10001 }
}
    </textarea>
  </div>

  <div id="resizer"></div>

  <div class="panel">
    <div class="panel-title">Live Tree View</div>
    <pre id="output"></pre>
  </div>
</div>

<div id="status" class="status">Ready</div>

<script>
const input = document.getElementById("input");
const output = document.getElementById("output");
const status = document.getElementById("status");
const urlInput = document.getElementById("urlInput");

/* LIVE RENDER */
let timer;
input.addEventListener("input", () => {
  clearTimeout(timer);
  timer = setTimeout(renderJSON, 300);
});

function renderJSON() {
  try {
    const obj = JSON.parse(input.value);
    output.innerHTML = "";
    buildTree(obj, output);
    status.textContent = "âœ“ Valid JSON";
    status.className = "status success";
  } catch (e) {
    output.innerHTML = `<span class="json-null">${e.message}</span>`;
    status.textContent = "âœ— Invalid JSON";
    status.className = "status error";
  }
}

function buildTree(value, parent) {
  if (typeof value !== "object" || value === null) {
    parent.innerHTML += formatValue(value);
    return;
  }

  const isArray = Array.isArray(value);
  const keys = Object.keys(value);

  const toggle = document.createElement("div");
  toggle.className = "toggle";
  toggle.textContent = isArray ? `Array [${keys.length}]` : `Object {${keys.length}}`;
  toggle.onclick = () => toggle.classList.toggle("collapsed");

  const node = document.createElement("div");
  node.className = "node";

  keys.forEach(k => {
    const line = document.createElement("div");
    line.innerHTML = `<span class="json-key">"${k}"</span>: `;
    node.appendChild(line);
    buildTree(value[k], line);
  });

  parent.append(toggle, node);
}

function formatValue(v) {
  if (v === null) return `<span class="json-null">null</span>`;
  if (typeof v === "string") return `<span class="json-string">"${v}"</span>`;
  if (typeof v === "number") return `<span class="json-number">${v}</span>`;
  if (typeof v === "boolean") return `<span class="json-boolean">${v}</span>`;
}

function beautify() {
  input.value = JSON.stringify(JSON.parse(input.value), null, 2);
  renderJSON();
}

function minify() {
  input.value = JSON.stringify(JSON.parse(input.value));
  renderJSON();
}

async function loadFromURL() {
  try {
    status.textContent = "Loading...";
    const res = await fetch(urlInput.value);
    const json = await res.json();
    input.value = JSON.stringify(json, null, 2);
    renderJSON();
  } catch {
    status.textContent = "Failed to load JSON";
    status.className = "status error";
  }
}

/* RESIZER */
const resizer = document.getElementById("resizer");
const left = document.getElementById("leftPanel");
let drag=false;

resizer.onmousedown = () => drag=true;
document.onmouseup = () => drag=false;
document.onmousemove = e => {
  if(!drag) return;
  left.style.flex="none";
  left.style.width = e.clientX + "px";
};

renderJSON();
</script>

</body>
</html>
