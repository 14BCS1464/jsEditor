<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Interview Questions</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        :root {
            --primary-color: #121212;
            --secondary-color: #1e1e1e;
            --accent-color: #bb86fc;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --card-bg: #2d2d2d;
            --highlight: #03dac6;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #121212, #000000);
            color: var(--text-primary);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .container {
            background: rgba(45, 45, 45, 0.7);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 16px;
            max-width: 800px;
            width: 95%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            position: relative;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: var(--accent-color);
            border-radius: 10px;
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, var(--accent-color), var(--highlight));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        h3 {
            font-size: 1.4rem;
            color: var(--text-primary);
            margin: 20px 0 10px;
            text-align: center;
        }

        .question-container {
            margin-bottom: 15px;
        }

        .question {
            background: var(--card-bg);
            color: var(--text-primary);
            padding: 15px;
            margin: 10px 0;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .question:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .question::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 5px;
            background: var(--accent-color);
            border-radius: 10px 0 0 10px;
        }

        .question::after {
            content: '↓';
            font-size: 1rem;
            transition: transform 0.3s ease;
            color: var(--accent-color);
        }

        .question.active::after {
            transform: rotate(180deg);
        }

        .answer {
            display: none;
            margin-top: 10px;
            padding: 12px;
            background: rgba(45, 45, 45, 0.5);
            border-radius: 10px;
            color: var(--text-secondary);
            line-height: 1.6;
            font-size: 0.9rem;
            border-left: 4px solid var(--accent-color);
            transform-origin: top;
            animation: slideDown 0.3s ease forwards;
        }

        .answer pre {
            background: #1a1a1a;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
            color: var(--highlight);
            margin: 10px 0;
            position: relative;
        }

        .answer strong {
            color: var(--highlight);
        }

        .answer ul {
            padding-left: 20px;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .btn {
            display: block;
            width: 90%;
            max-width: 300px;
            margin: 20px auto;
            background: var(--accent-color);
            color: #000;
            border: none;
            padding: 12px 20px;
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(187, 134, 252, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 8px 25px rgba(187, 134, 252, 0.4);
        }

        .btn:active {
            transform: translateY(1px);
        }

        .download-btn {
            background: var(--highlight);
            box-shadow: 0 4px 15px rgba(3, 218, 198, 0.3);
        }

        .download-btn:hover {
            box-shadow: 0 8px 25px rgba(3, 218, 198, 0.4);
        }

        .badge {
            position: absolute;
            top: -15px;
            right: -15px;
            background: var(--accent-color);
            color: #000;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            transform: rotate(15deg);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        #premiumQuestions {
            display: none;
        }

        .unlocked {
            animation: fadeIn 0.8s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-number {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 25px;
            height: 25px;
            background-color: var(--accent-color);
            color: #000;
            border-radius: 50%;
            margin-right: 10px;
            font-size: 0.85rem;
        }

        .separator {
            height: 3px;
            width: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            margin: 20px 0;
        }

        .premium-label {
            display: inline-block;
            background: var(--highlight);
            color: #000;
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: 20px;
            margin-left: 10px;
            vertical-align: middle;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .topic {
            font-size: 15px;
            color: #21dd24;
            cursor: pointer;
            transition: 0.3s;
            text-decoration: none;
        }

        .topic:hover {
            color: #6fab70;
        }

        .code-container {
            position: relative;
            margin: 10px 0;
        }

        .editable-code {
            width: 100%;
            min-height: 160px;
            background: #1a1a1a;
            color: var(--highlight);
            font-family: 'Courier New', monospace;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #333;
            resize: vertical;
            white-space: pre;
            overflow-x: auto;
            font-size: large;
        }

        .run-code-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--highlight);
            color: #000;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            z-index: 10;
        }

        .run-code-btn:hover {
            background: #00c9b7;
        }

        .code-output {
            background: #1a1a1a;
            padding: 10px;
            border-radius: 5px;
            margin-top: 5px;
            border-left: 3px solid var(--highlight);
            display: none;
        }

        .code-output-title {
            font-size: 0.8rem;
            color: var(--highlight);
            margin-bottom: 5px;
        }

        .code-output-content {
            font-family: monospace;
            white-space: pre-wrap;
            font-size: 0.85rem;
        }

        /* Popup Modal Styles */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .popup-content {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 16px;
            max-width: 400px;
            width: 90%;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .popup-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .popup-title {
            font-size: 1.5rem;
            color: var(--accent-color);
            margin-bottom: 5px;
        }

        .popup-subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            color: var(--text-primary);
            margin-bottom: 5px;
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .form-input::placeholder {
            color: var(--text-secondary);
        }

        .popup-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
        }

        .popup-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            min-width: 100px;
        }

        .popup-btn.primary {
            background: var(--accent-color);
            color: #000;
        }

        .popup-btn.primary:hover {
            background: #a374e6;
        }

        .popup-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .popup-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .close-popup {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-popup:hover {
            color: var(--text-primary);
        }

        .error-message {
            color: #ff6b6b;
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }

        /* Mobile Responsiveness */
        @media (max-width: 480px) {
            h2 {
                font-size: 1.8rem;
            }

            h3 {
                font-size: 1.2rem;
            }

            .question {
                padding: 12px;
                font-size: 0.9rem;
            }

            .answer {
                padding: 10px;
                font-size: 0.85rem;
            }

            .btn {
                font-size: 0.85rem;
                padding: 10px 15px;
            }

            .question-number {
                width: 20px;
                height: 20px;
                font-size: 0.75rem;
            }

            .popup-content {
                padding: 20px;
                max-width: 350px;
            }

            .popup-title {
                font-size: 1.3rem;
            }
        }
    </style>

    <!-- Razorpay Checkout Script -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

</head>

<body>

    <div class="container">
        <div class="header">
            <h2>JavaScript Interview Questions</h2>
            <p>Master these questions to ace your next interview</p>
            
        </div>
        <div id="mcq-header" style="display: flex; align-items: center; gap: 10px; margin: 18px 0 24px 0; cursor: pointer;">
            <span style="background: linear-gradient(90deg, #6ea8fe, #22d3ee); color: #fff; font-weight: bold; font-size: 1.1rem; padding: 8px 22px; border-radius: 999px; box-shadow: 0 2px 8px rgba(34,211,238,0.10); letter-spacing: 1px;">
                MCQ Section for Practice
            </span>
            <span style="color: #6ea8fe; font-size: 1.3rem; vertical-align: middle;">&#9733;</span>
        </div>
        <script>
            document.getElementById('mcq-header').addEventListener('click', function() {
                window.location.href = 'mcq/index.html';
            });
        </script>
        <!-- Free Questions -->
        <div class="question-container">
            <div class="question">
                <span><span class="question-number">1</span> What is the difference between `let`, `const`, and
                    `var`?</span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> `var` is function-scoped and can be redeclared and updated, while `let` and
                `const` are block-scoped. Variables declared with `let` can be updated but not redeclared, and `const`
                cannot be updated or redeclared after initialization.
            </div>

            <div class="question">
                <span><span class="question-number">2</span> Explain closures in JavaScript with an example.</span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> A closure is a function that has access to its outer function's scope, even
                after the outer function has returned. For example:
                <div class="code-container">
                    <textarea class="editable-code">function createCounter() {
    let count = 0;
    return function() {
        count++;
        return count;
    };
}

const counter = createCounter();
console.log(counter()); // 1
console.log(counter()); // 2</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-2"></div>
                </div>
                Here, the inner function maintains access to the `count` variable even after `createCounter` has
                finished execution.
            </div>

            <div class="question">
                <span><span class="question-number">3</span> What is event delegation in JavaScript?</span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> Event delegation is a technique where you attach an event listener to a parent
                element instead of individual child elements. It leverages event bubbling to handle events at a higher
                level, which is more efficient and works for dynamically added elements.
            </div>

            <div class="question">
                <span><span class="question-number">4</span> What are Promises and async/await?</span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> Promises are objects representing the eventual completion (or failure) of an
                asynchronous operation and its resulting value. `async/await` is syntactic sugar built on top of
                Promises, making asynchronous code easier to write and understand by allowing you to write asynchronous
                code that looks synchronous.
                <div class="code-container">
                    <textarea class="editable-code">async function fetchData() {
    try {
        const response = await fetch('https://jsonplaceholder.typicode.com/todos/1');
        const data = await response.json();
        console.log(data);
    } catch (error) {
        console.error('Error:', error);
    }
}

fetchData();</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-4"></div>
                </div>
            </div>

            <div class="question">
                <span><span class="question-number">5</span> Explain the difference between `==` and `===`.</span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> The `==` (loose equality) operator checks for value equality after converting
                both values to a common type, while the `===` (strict equality) operator checks for both value and type
                equality without type conversion.
                <div class="code-container">
                    <textarea class="editable-code">console.log(5 == '5');    // true
console.log(5 === '5');   // false
console.log(0 == false);  // true
console.log(0 === false); // false</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-5"></div>
                </div>
            </div>

            <div class="question">
                <span><span class="question-number">6</span> What is the difference between `null` and
                    `undefined`?</span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> `undefined` means a variable has been declared but not assigned a value, while
                `null` is an intentional assignment to represent "no value" or "empty". `undefined` is a type itself,
                whereas `null` is an object.
                <div class="code-container">
                    <textarea class="editable-code">let a;
console.log(a);     // undefined
console.log(typeof a); // "undefined"

let b = null;
console.log(b);     // null
console.log(typeof b); // "object"</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-6"></div>
                </div>
            </div>

            <div class="question">
                <span><span class="question-number">7</span> What are JavaScript data types?</span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> JavaScript has 8 data types: String, Number, Boolean, Null, Undefined, Object,
                Symbol (ES6), and BigInt (ES2020). The first 6 are primitive types except for Object, which is a
                reference type.
            </div>

            <div class="question">
                <span><span class="question-number">8</span> Explain `this` keyword in JavaScript.</span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> The `this` keyword refers to the object it belongs to. Its value is determined
                by how a function is called:
                <ul>
                    <li>In a method, `this` refers to the owner object</li>
                    <li>In a function, `this` refers to the global object (or undefined in strict mode)</li>
                    <li>In an event, `this` refers to the element that received the event</li>
                    <li>With call/apply/bind methods, `this` can be explicitly set</li>
                </ul>
                <div class="code-container">
                    <textarea class="editable-code">const obj = {
    name: 'John',
    greet: function() {
        console.log(`Hello, ${this.name}!`);
    }
};

obj.greet(); // "Hello, John!"</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-8"></div>
                </div>
            </div>

            <div class="question">
                <span><span class="question-number">9</span> What is the difference between `map()` and
                    `forEach()`?</span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> Both iterate over arrays, but `map()` returns a new array with the results of
                calling a function on every element, while `forEach()` simply executes a function for each element
                without returning anything. `map()` is immutable and better for transforming data, while `forEach()` is
                used for side effects.
                <div class="code-container">
                    <textarea class="editable-code">const numbers = [1, 2, 3];

// map() example
const doubled = numbers.map(num => num * 2);
console.log(doubled); // [2, 4, 6]

// forEach() example
let sum = 0;
numbers.forEach(num => sum += num);
console.log(sum); // 6</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-9"></div>
                </div>
            </div>

            <div class="question">
                <span><span class="question-number">10</span> Explain Hoisting in JavaScript.</span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> Hoisting is JavaScript's default behavior of moving declarations to the top of
                the current scope. Function declarations are hoisted completely, while variable declarations (not
                initializations) are hoisted. This allows you to use functions and variables before they're declared in
                the code.
                <div class="code-container">
                    <textarea class="editable-code">// Function declaration is hoisted
sayHello(); // "Hello!"

function sayHello() {
    console.log("Hello!");
}

// Variable declaration is hoisted but not initialization
console.log(x); // undefined
var x = 5;</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-10"></div>
                </div>
            </div>
        </div>

        <div class="separator"></div>

        <h3>Unlock Premium Questions & Answers</h3>
        <div class="badge">50% OFF</div>
        <button class="btn" id="payButton">Unlock All</button>
        <div id="premiumQuestions">
            <div class="question">
                <span><span class="question-number">1</span> What is the difference between call, apply, and bind? <span class="premium-label">Premium</span></span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> All three methods are used to control what `this` refers to:
                <ul>
                    <li><strong>call:</strong> Invokes the function immediately with a specified `this` value and arguments provided individually: `func.call(thisArg, arg1, arg2, ...)`</li>
                    <li><strong>apply:</strong> Invokes the function immediately with a specified `this` value and arguments as an array: `func.apply(thisArg, [arg1, arg2, ...])`</li>
                    <li><strong>bind:</strong> Returns a new function with a specified `this` value and initial arguments, which can be invoked later: `const boundFunc = func.bind(thisArg, arg1, arg2, ...)`</li>
                </ul>
                <div class="code-container">
                    <textarea class="editable-code">function greet(greeting, punctuation) {
            console.log(`${greeting}, ${this.name}${punctuation}`);
        }
        
        const person = { name: 'John' };
        
        // call
        greet.call(person, 'Hello', '!'); // "Hello, John!"
        
        // apply
        greet.apply(person, ['Hi', '!!']); // "Hi, John!!"
        
        // bind
        const boundGreet = greet.bind(person, 'Hey');
        boundGreet('!!!'); // "Hey, John!!!"</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-p1"></div>
                </div>
            </div>
        
            <div class="question">
                <span><span class="question-number">2</span> Explain the concept of memoization in JavaScript. <span class="premium-label">Premium</span></span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> Memoization is an optimization technique that speeds up function calls by storing the results of expensive function calls and returning the cached result when the same inputs occur again. Example:
                <div class="code-container">
                    <textarea class="editable-code">function memoize(fn) {
            const cache = {};
            return function(...args) {
                const key = JSON.stringify(args);
                if (cache[key]) {
                    return cache[key];
                }
                const result = fn.apply(this, args);
                cache[key] = result;
                return result;
            };
        }
        
        // Example usage with a factorial function
        function slowFactorial(n) {
            if (n === 0 || n === 1) return 1;
            return n * slowFactorial(n - 1);
        }
        
        const fastFactorial = memoize(slowFactorial);
        
        console.log(fastFactorial(5)); // Calculates and caches
        console.log(fastFactorial(5)); // Returns cached result</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-p2"></div>
                </div>
            </div>
        
            <div class="question">
                <span><span class="question-number">3</span> Explain JavaScript currying with an example. <span class="premium-label">Premium</span></span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> Currying is a technique where a function with multiple arguments is transformed into a sequence of functions each with a single argument. Example:
                <div class="code-container">
                    <textarea class="editable-code">// Regular function
        function add(a, b, c) {
            return a + b + c;
        }
        
        // Curried version
        function curryAdd(a) {
            return function(b) {
                return function(c) {
                    return a + b + c;
                };
            };
        }
        
        // Usage
        console.log(add(1, 2, 3)); // 6
        console.log(curryAdd(1)(2)(3)); // 6
        
        // Practical example: creating specialized functions
        const addFive = curryAdd(5);
        const addFiveAndTwo = addFive(2);
        console.log(addFiveAndTwo(3)); // 10</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-p3"></div>
                </div>
                Currying allows for partial application of functions and creating more specialized functions from general ones.
            </div>
        
            <div class="question">
                <span><span class="question-number">4</span> What are JavaScript generators and iterators? <span class="premium-label">Premium</span></span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> Iterators are objects with a `next()` method that returns values in a sequence. Generators are special functions (marked with `function*`) that can pause and resume execution, yielding multiple values. They simplify the creation of iterators by automatically implementing the iterator protocol. Example:
                <div class="code-container">
                    <textarea class="editable-code">function* countUp(max) {
            let count = 0;
            while (count < max) {
                yield count++;
            }
        }
        
        const counter = countUp(3);
        console.log(counter.next().value); // 0
        console.log(counter.next().value); // 1
        console.log(counter.next().value); // 2
        console.log(counter.next().value); // undefined
        
        // Practical example: infinite sequence
        function* fibonacci() {
            let [prev, curr] = [0, 1];
            while (true) {
                yield curr;
                [prev, curr] = [curr, prev + curr];
            }
        }
        
        const fib = fibonacci();
        console.log(fib.next().value); // 1
        console.log(fib.next().value); // 1
        console.log(fib.next().value); // 2
        console.log(fib.next().value); // 3</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-p4"></div>
                </div>
            </div>
        
            <div class="question">
                <span><span class="question-number">5</span> What is the JavaScript Event Loop? <span class="premium-label">Premium</span></span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> The Event Loop is a fundamental part of JavaScript's concurrency model. It's responsible for executing code, collecting and processing events, and executing queued sub-tasks. It works by:
                <ul>
                    <li>Executing synchronous code in the call stack</li>
                    <li>If the call stack is empty, checking the message queue for callbacks to execute</li>
                    <li>If a callback is present, pushing it onto the call stack to be executed</li>
                    <li>This process repeats, allowing JavaScript to handle asynchronous operations without blocking</li>
                </ul>
                This model allows JavaScript, which is single-threaded, to handle multiple operations concurrently.
                <div class="code-container">
                    <textarea class="editable-code">// Example demonstrating event loop behavior
        console.log('Start');
        
        setTimeout(() => console.log('Timeout callback'), 0);
        
        Promise.resolve().then(() => console.log('Promise callback'));
        
        console.log('End');
        
        // Output order:
        // Start
        // End
        // Promise callback
        // Timeout callback</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-p5"></div>
                </div>
            </div>
        
            <div class="question">
                <span><span class="question-number">6</span> Explain browser storage options (localStorage, sessionStorage, cookies) and their differences. <span class="premium-label">Premium</span></span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> Browser storage options:
                <ul>
                    <li><strong>localStorage:</strong> Stores data with no expiration date, persists even after browser is closed, limited to about 5MB, same-origin policy</li>
                    <li><strong>sessionStorage:</strong> Similar to localStorage but data is cleared when the page session ends (when browser tab is closed), limited to about 5MB</li>
                    <li><strong>Cookies:</strong> Small text files stored on the client's computer, limited to about 4KB, can set expiration time, sent with every HTTP request to the same domain, can be made secure/HTTP-only</li>
                </ul>
                Choose based on persistence needs, storage size requirements, and whether data needs to be sent to the server.
                <div class="code-container">
                    <textarea class="editable-code">// localStorage example
        localStorage.setItem('username', 'john_doe');
        console.log(localStorage.getItem('username')); // "john_doe"
        localStorage.removeItem('username');
        
        // sessionStorage example
        sessionStorage.setItem('theme', 'dark');
        console.log(sessionStorage.getItem('theme')); // "dark"
        
        // Cookies example
        document.cookie = "username=john_doe; expires=Fri, 31 Dec 2023 23:59:59 GMT; path=/";
        console.log(document.cookie);</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-p6"></div>
                </div>
            </div>
        
            <div class="question">
                <span><span class="question-number">7</span> What are JavaScript Promises and how do they work? <span class="premium-label">Premium</span></span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> Promises are objects representing the eventual completion (or failure) of an asynchronous operation and its resulting value. A Promise is in one of three states: pending, fulfilled, or rejected. They provide a cleaner way to handle asynchronous operations compared to callbacks, allowing chaining with `.then()` and error handling with `.catch()`.
                <div class="code-container">
                    <textarea class="editable-code">// Example of creating and using a Promise
        const myPromise = new Promise((resolve, reject) => {
            setTimeout(() => {
                const randomNum = Math.random();
                if (randomNum > 0.5) {
                    resolve(`Success: ${randomNum}`);
                } else {
                    reject(`Error: ${randomNum} is too low`);
                }
            }, 1000);
        });
        
        myPromise
            .then(result => console.log(result)) // Handles success
            .catch(error => console.log(error)); // Handles error
        
        // Chaining Promises
        myPromise
            .then(result => {
                console.log(result);
                return result + ' processed';
            })
            .then(newResult => console.log(newResult))
            .catch(error => console.log(error));</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-p7"></div>
                </div>
            </div>
        
            <div class="question">
                <span><span class="question-number">8</span> Explain the difference between var, let, and const in JavaScript. <span class="premium-label">Premium</span></span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> `var`, `let`, and `const` are used to declare variables in JavaScript, but they differ in scope, hoisting, and reassignment:
                <ul>
                    <li><strong>var:</strong> Function-scoped, hoisted with undefined initialization, allows redeclaration and reassignment.</li>
                    <li><strong>let:</strong> Block-scoped, hoisted but not initialized (causes ReferenceError if accessed before declaration), allows reassignment but not redeclaration.</li>
                    <li><strong>const:</strong> Block-scoped, hoisted but not initialized, does not allow reassignment or redeclaration (though object properties can be mutated).</li>
                </ul>
                <div class="code-container">
                    <textarea class="editable-code">// var example
        var x = 1;
        if (true) {
            var x = 2; // Same variable, redeclared
            console.log(x); // 2
        }
        console.log(x); // 2
        
        // let example
        let y = 1;
        if (true) {
            let y = 2; // Different variable, block-scoped
            console.log(y); // 2
        }
        console.log(y); // 1
        
        // const example
        const z = 1;
        // z = 2; // Error: Assignment to constant
        const obj = { prop: 1 };
        obj.prop = 2; // Allowed: mutating object property
        console.log(obj.prop); // 2</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-p8"></div>
                </div>
            </div>
        
            <div class="question">
                <span><span class="question-number">9</span> What is the purpose of the `async` and `await` keywords in JavaScript? <span class="premium-label">Premium</span></span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> The `async` and `await` keywords simplify working with asynchronous code, making it look and behave like synchronous code. An `async` function always returns a Promise, and `await` can be used inside it to pause execution until a Promise resolves, improving readability over chained `.then()` calls.
                <div class="code-container">
                    <textarea class="editable-code">async function fetchData() {
            try {
                const response = await new Promise(resolve => {
                    setTimeout(() => resolve('Data fetched!'), 1000);
                });
                console.log(response);
                return response;
            } catch (error) {
                console.log('Error:', error);
            }
        }
        
        fetchData(); // Logs "Data fetched!" after 1 second
        
        // Using with real API call
        async function getUser() {
            try {
                // Simulated API call
                const user = await new Promise(resolve => {
                    setTimeout(() => resolve({ id: 1, name: 'John' }), 1000);
                });
                console.log(user);
            } catch (error) {
                console.log('Error:', error);
            }
        }
        
        getUser(); // Logs { id: 1, name: 'John' } after 1 second</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-p9"></div>
                </div>
            </div>
        
            <div class="question">
                <span><span class="question-number">10</span> What is a closure in JavaScript and how is it used? <span class="premium-label">Premium</span></span>
            </div>
            <div class="answer">
                <strong>Answer:</strong> A closure is a function that retains access to variables from its outer (enclosing) scope even after the outer function has finished executing. Closures are commonly used for data privacy, event handlers, and creating function factories.
                <div class="code-container">
                    <textarea class="editable-code">function outerFunction() {
            let outerVar = 'I am from outer scope';
            
            function innerFunction() {
                console.log(outerVar); // Accesses outerVar from outer scope
            }
            
            return innerFunction;
        }
        
        const myClosure = outerFunction();
        myClosure(); // Logs "I am from outer scope"
        
        // Practical example: counter
        function createCounter() {
            let count = 0;
            return {
                increment: function() {
                    return ++count;
                },
                decrement: function() {
                    return --count;
                }
            };
        }
        
        const counter = createCounter();
        console.log(counter.increment()); // 1
        console.log(counter.increment()); // 2
        console.log(counter.decrement()); // 1</textarea>
                    <button class="run-code-btn">Run Code</button>
                    <div class="code-output" id="output-p10"></div>
                </div>
            </div>
        
            <button class="btn download-btn" id="downloadButton">Download Complete PDF Guide just in ₹100</button>
        </div>
       
       
         
        </div>
    </div>

    <!-- Popup Modal -->
    <div class="popup-overlay" id="popupOverlay">
        <div class="popup-content">
            <button class="close-popup" id="closePopup">&times;</button>
            <div class="popup-header">
                <h3 class="popup-title">Enter Your Details</h3>
                <p class="popup-subtitle">We need your information to proceed with the download</p>
            </div>
            <form id="userDetailsForm">
                <div class="form-group">
                    <label class="form-label" for="userName">Full Name *</label>
                    <input type="text" id="userName" class="form-input" placeholder="Enter your full name" required>
                    <div class="error-message" id="nameError">Please enter your full name</div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="userEmail">Email Address *</label>
                    <input type="email" id="userEmail" class="form-input" placeholder="Enter your email address" required>
                    <div class="error-message" id="emailError">Please enter a valid email address</div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="userContact">Phone Number *</label>
                    <input type="tel" id="userContact" class="form-input" placeholder="Enter your phone number" required>
                    <div class="error-message" id="contactError">Please enter a valid phone number</div>
                </div>
                <div class="popup-buttons">
                    <button type="button" class="popup-btn secondary" id="cancelBtn">Cancel</button>
                    <button type="submit" class="popup-btn primary" id="proceedBtn">Proceed to Payment</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Global variables
        let userDetails = {};

        document.getElementById("payButton").addEventListener("click", function () {
            // Simulate Payment Success (Replace with real payment gateway)
            document.getElementById("premiumQuestions").style.display = "block";
            document.getElementById("premiumQuestions").classList.add("unlocked");
            document.getElementById("payButton").style.display = "none";
            document.querySelector(".badge").style.display = "none";
        });

        document.querySelectorAll(".question").forEach(item => {
            item.addEventListener("click", function () {
                this.classList.toggle("active");
                let answer = this.nextElementSibling;
                if (answer.classList.contains("answer")) {
                    answer.style.display = answer.style.display === "block" ? "none" : "block";
                }
            });
        });

        // Add run code functionality for editable code sections
        document.querySelectorAll('.run-code-btn').forEach(button => {
            button.addEventListener('click', function (e) {
                e.stopPropagation();
                const codeContainer = this.parentElement;
                const textarea = codeContainer.querySelector('.editable-code');
                const code = textarea.value;
                const outputId = codeContainer.querySelector('.code-output').id;

                try {
                    // Create a function to capture console.log output
                    const logs = [];
                    const originalConsoleLog = console.log;
                    console.log = function () {
                        logs.push(Array.from(arguments).join(' '));
                        originalConsoleLog.apply(console, arguments);
                    };

                    // Execute the code
                    const result = new Function(code)();

                    // Restore original console.log
                    console.log = originalConsoleLog;

                    // Display the output
                    const outputElement = document.getElementById(outputId);
                    outputElement.innerHTML = `
                        <div class="code-output-title">Output:</div>
                        <div class="code-output-content">${logs.join('\n')}</div>
                    `;
                    outputElement.style.display = 'block';

                    // If no console.log was called but there's a return value
                    if (logs.length === 0 && result !== undefined) {
                        outputElement.innerHTML = `
                            <div class="code-output-title">Return value:</div>
                            <div class="code-output-content">${result}</div>
                        `;
                    }
                } catch (error) {
                    const outputElement = document.getElementById(outputId);
                    outputElement.innerHTML = `
                        <div class="code-output-title">Error:</div>
                        <div class="code-output-content">${error.message}</div>
                    `;
                    outputElement.style.display = 'block';
                }
            });
        });

        // Popup functionality
        const popupOverlay = document.getElementById('popupOverlay');
        const closePopup = document.getElementById('closePopup');
        const cancelBtn = document.getElementById('cancelBtn');
        const userDetailsForm = document.getElementById('userDetailsForm');
        const downloadButton = document.getElementById('downloadButton');

        // Show popup when download button is clicked
        downloadButton.addEventListener('click', function() {
            popupOverlay.style.display = 'flex';
        });

        // Close popup functions
        function hidePopup() {
            popupOverlay.style.display = 'none';
            clearForm();
        }

        closePopup.addEventListener('click', hidePopup);
        cancelBtn.addEventListener('click', hidePopup);

        // Close popup when clicking outside
        popupOverlay.addEventListener('click', function(e) {
            if (e.target === popupOverlay) {
                hidePopup();
            }
        });

        // Form validation
        function validateForm() {
            const name = document.getElementById('userName').value.trim();
            const email = document.getElementById('userEmail').value.trim();
            const contact = document.getElementById('userContact').value.trim();
            
            let isValid = true;

            // Clear previous error messages
            document.querySelectorAll('.error-message').forEach(error => {
                error.style.display = 'none';
            });

            // Validate name
            if (name.length < 2) {
                document.getElementById('nameError').style.display = 'block';
                isValid = false;
            }

            // Validate email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                document.getElementById('emailError').style.display = 'block';
                isValid = false;
            }

            // Validate contact (basic validation for 10 digits)
            const contactRegex = /^[0-9]{10}$/;
            if (!contactRegex.test(contact.replace(/\s+/g, ''))) {
                document.getElementById('contactError').style.display = 'block';
                isValid = false;
            }

            return isValid;
        }

        function clearForm() {
            document.getElementById('userDetailsForm').reset();
            document.querySelectorAll('.error-message').forEach(error => {
                error.style.display = 'none';
            });
        }

        // Handle form submission
        userDetailsForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (validateForm()) {
                // Store user details
                userDetails = {
                    name: document.getElementById('userName').value.trim(),
                    email: document.getElementById('userEmail').value.trim(),
                    contact: document.getElementById('userContact').value.trim()
                };
                
                // Hide popup
                hidePopup();
                
                // Proceed with payment
                initiatePayment();
            }
        });

        // Razorpay Integration for PDF Purchase
        function initiatePayment() {
            const options = {
                key: "YM3Rgnutn7CI5v4asGKLOYGU", // Replace with your Razorpay Key ID
                amount: 1000, // Amount in paise (10000 paise = ₹100)
                currency: "INR",
                name: "JavaScript Interview Questions",
                description: "Complete PDF Guide",
                order_id: "423423423", // Replace with your Order ID (generated from backend)
                handler: function (response) {
                    alert("Payment successful! Payment ID: " + response.razorpay_payment_id);
                    // Here you can send the user details and payment info to your backend
                    console.log("User Details:", userDetails);
                    console.log("Payment Response:", response);
                    
                    // Redirect or provide download link after successful payment
                    window.location.href = "YOUR_PDF_DOWNLOAD_LINK";
                },
                prefill: {
                    name: userDetails.name,
                    email: userDetails.email,
                    contact: userDetails.contact
                },
                notes: {
                    address: "JavaScript Interview Questions Purchase"
                },
                theme: {
                    color: "#bb86fc"
                }
            };

            const rzp = new Razorpay(options);
            rzp.open();

            rzp.on("payment.failed", function (response) {
                alert("Payment failed! Please try again.");
                console.error("Payment failed:", response.error);
                
                // Show popup again for retry
                popupOverlay.style.display = 'flex';
            });
        }

        // Add escape key functionality to close popup
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && popupOverlay.style.display === 'flex') {
                hidePopup();
            }
        });
    </script>
</body>

</html>